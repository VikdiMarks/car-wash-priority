(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[293],{3421:function(e,t,a){Promise.resolve().then(a.bind(a,48939))},25827:function(e,t,a){"use strict";a.d(t,{D2:function(){return r},Jp:function(){return c},cK:function(){return n}});var l=a(30604),s=a(50117);async function r(){try{let e=await s.b.get("".concat("https://eco.null-it.com","/api/v2/organizations/").concat((0,l.v)("organization_id")));if(200===e.status)return e.data.data;return console.error("Ошибка при получении данных об организации:",e.status),!1}catch(e){return console.error("Ошибка при получении данных об организации:",e),!1}}async function n(){try{let e=await s.b.get("".concat("https://eco.null-it.com","/api/v2/organizations/").concat((0,l.v)("organization_id"),"/registration/get-pay-data"));if(200===e.status)return e.data.organization_pay_data;return console.error("Ошибка при отправке get-pay-data:",e.status),!1}catch(e){return console.error("Ошибка при отправке get-pay-data:",e),!1}}async function c(e){try{let t=await s.b.post("".concat("https://eco.null-it.com","/api/v2/organizations/").concat((0,l.v)("organization_id"),"/invoices/create"),e);if(200===t.status||201===t.status)return t.data;return console.log("res",t),alert(t),!1}catch(e){return alert(e.response.data.message),!1}}},48939:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(57437),s=a(70970),r=a(773),n=a(5925),c=a(77469),i=a(2265),o=a(25827),d=a(50117);async function u(e){try{let t=await d.b.post("".concat("https://eco.null-it.com","/api/v2/user/set-name"),e);if(200===t.status||201===t.status)return t.data;return console.log("res",t),alert(t),!1}catch(e){return alert(e.response.data.message),!1}}async function b(e){try{let t=await d.b.post("".concat("https://eco.null-it.com","/api/v2/user/set-email"),e);if(200===t.status||201===t.status)return t.data;return console.log("res",t),alert(t),!1}catch(e){return alert(e.response.data.message),!1}}async function x(){try{let e=await d.b.get("".concat("https://eco.null-it.com","/api/v2/user"));if(200===e.status)return e.data.profile;return console.error("getProfile:",e.status),!1}catch(e){return console.error("getProfile:",e),!1}}let p={block:"rounded-2xl bg-[#F7F9FB] p-6 w-full gap-6 flex flex-col",title:"text-black-100 text-lg font-semibold"};function m(){let[e,t]=(0,i.useState)(0),[a,d]=(0,i.useState)({}),[m,h]=(0,i.useState)({}),[g,f]=(0,i.useState)({}),[v,k]=(0,i.useState)(""),[j,y]=(0,i.useState)("");return(0,i.useEffect)(()=>{t(window.innerWidth)},[]),(0,i.useEffect)(()=>{let e=async()=>{try{let e=await (0,o.D2)();console.log("data",e),e&&(d(e),k(e.fio),y(e.email))}catch(e){console.error("Ошибка при получении данных об организации",e)}};e()},[]),(0,i.useEffect)(()=>{let e=async()=>{try{let e=await (0,o.cK)();console.log("data",e),e&&h(e)}catch(e){console.error("Ошибка при получении данных об организации",e)}};e()},[]),(0,i.useEffect)(()=>{let e=async()=>{try{let e=await x();console.log("data",e),e&&f(e)}catch(e){console.error("Ошибка при получении данных об организации",e)}};e()},[]),(0,l.jsxs)("div",{className:"flex-middle flex-col gap-6",children:[(0,l.jsxs)("div",{className:p.block,children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,l.jsx)("h1",{className:p.title,children:"Информация о компании"}),(0,l.jsxs)("p",{className:"text-black/40",children:["Для изменения данных организации обратитесь в"," ",(0,l.jsx)("span",{className:"text-purple--main cursor-pointer",children:"службу поддержки"})]})]}),(0,l.jsx)(s.Z,{type:"big-input:disabled",label:"ИНН",value:null==a?void 0:a.inn}),(0,l.jsx)(s.Z,{type:"big-input:disabled",label:"ОГРН",value:null==a?void 0:a.ogrn}),(0,l.jsx)(s.Z,{type:"big-input:disabled",label:"Наименование компании",value:null==a?void 0:a.name}),(0,l.jsx)(s.Z,{type:"big-input:disabled",label:"Юридический адрес",value:null==a?void 0:a.address}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("h1",{className:p.title,children:"Платежные данные"})}),(0,l.jsx)(s.Z,{type:"big-input:disabled",label:"Расчётный счёт",value:null==m?void 0:m.settlement_number}),(0,l.jsx)(s.Z,{type:"big-input:disabled",label:"Название банка",value:null==m?void 0:m.name}),(0,l.jsx)(s.Z,{type:"big-input:disabled",label:"БИК",value:null==m?void 0:m.bik}),(0,l.jsx)(s.Z,{type:"big-input:disabled",label:"Корреспондентский счёт",value:null==m?void 0:m.correspondent_account})]}),(0,l.jsxs)("div",{className:p.block,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between gap-4  flex-wrap",children:[(0,l.jsx)("h1",{className:p.title,children:"Данные пользователя"}),(0,l.jsxs)("div",{className:"flex-middle gap-2",children:[(0,l.jsx)(r.Z,{type:"medium-gray",children:"Отменить"}),(0,l.jsx)(r.Z,{clickHandler:async()=>{let e=await u({name:null==g?void 0:g.fio}),t=await b({email:null==g?void 0:g.email});e&&t&&n.default.success("Изменения сохранены")},type:"medium-black",children:e<=950?"Сохранить":"Сохранить изменения"})]})]}),(0,l.jsx)(s.Z,{type:"big-input",label:"ФИО",value:null==g?void 0:g.name,setValue:e=>{f(t=>({...t,fio:e}))}}),(0,l.jsx)(s.Z,{type:"big-input",label:"E-mail",value:null==g?void 0:g.email,setValue:e=>f(t=>({...t,email:e}))}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("h1",{className:p.title,children:"Настройки уведомлений"})}),(0,l.jsx)(c.Z,{title:"Счета",opinion:"Все выставленные счета будут приходить на почту",defaultState:!0}),(0,l.jsx)("div",{className:"w-full h-[1px] bg-black/10"}),(0,l.jsx)(c.Z,{title:"Акты",opinion:"По итогам месяца акты выполненных работ",defaultState:!0}),(0,l.jsx)("div",{className:"w-full h-[1px] bg-black/10"}),(0,l.jsx)(c.Z,{title:"Напоминания",opinion:"Мы будет присылать уведомления при окончании баланса",defaultState:!0})]})]})}},773:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var l=a(57437),s=a(16691),r=a.n(s),n=a(57042);function c(e){let{type:t,children:a,icon:s,clickHandler:c,disabled:i=!1}=e;switch(console.log("disabled",i),t){case"medium-gray":return(0,l.jsx)("button",{onClick:c,className:"duration-500 hover:opacity-75 rounded-lg px-2 py-1 text-sm text-black-100 bg-black/5",disabled:i,children:a});case"medium-black":return(0,l.jsx)("button",{onClick:c,className:"duration-500 hover:opacity-75 rounded-lg px-2 py-1 text-sm text-white bg-black-100",disabled:i,children:a});case"success-secondary":return(0,l.jsx)("button",{onClick:c,className:"hover:bg-green--main hover:text-white duration-500 px-2 py-1 text-sm text-center w-full rounded-lg text-green--main border border-green--main",disabled:i,children:a});case"danger-secondary":return(0,l.jsx)("button",{onClick:c,className:"hover:bg-red--secondary hover:text-white duration-500 px-2 py-[13px] text-center w-full rounded-lg text-red--secondary border border-red--secondary",disabled:i,children:a});default:return(0,l.jsxs)("button",{onClick:c,className:(0,n.Z)("flex-middle gap-2 duration-300 hover:opacity-75  p-2 text-lg font-semibold text-center w-full rounded-lg",{"text-white bg-green--main":"success"===t,"text-white bg-red--secondary":"danger"===t,"text-black-100 bg-black/5":"secondary"===t},"max-[430px]:text-[16px]"),disabled:i,children:["arrow-left"===s&&(0,l.jsx)(r(),{width:20,height:20,src:"/img/icons/".concat(s,".svg"),alt:"Стрелка влево"}),a,"arrow-right"===s&&(0,l.jsx)(r(),{width:20,height:20,src:"/img/icons/".concat(s,".svg"),alt:"Стрелка вправо"})]})}}},77469:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var l=a(57437),s=a(2265),r=a(16691),n=a.n(r);function c(e){let{isCurrent:t,setIsCurrent:a,title:r,opinion:c,size:i,errorTitle:o,defaultState:d}=e,[u,b]=(0,s.useState)(!!d);return"small"===i?(0,l.jsxs)("div",{className:"flex items-center gap-6 md:gap-3.5",children:[u?(0,l.jsx)("div",{onClick:()=>b(!1),className:"flex-middle cursor-pointer bg-black-100 border border-black-100 min-w-[14px] min-h-[14px] rounded-[3px]",children:(0,l.jsx)(n(),{width:6,height:4,src:"/img/icons/checkmark-for-checkbox.svg",alt:"Галочка"})}):(0,l.jsx)("div",{onClick:()=>b(!0),className:"cursor-pointer bg-[#F7F9FB] border border-black/20 min-w-[14px] min-h-[14px] rounded-[3px]"}),r&&c&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black-100",children:r}),(0,l.jsx)("p",{className:"text-black/40",children:c})]})]}):(0,l.jsxs)("div",{className:"flex items-center gap-6 md:gap-3.5",children:[u?(0,l.jsx)("div",{onClick:()=>{b(!1),a(!1)},className:"flex-middle cursor-pointer bg-black-100 border border-black-100 min-w-[18px] min-h-[18px] rounded",children:(0,l.jsx)(n(),{width:8,height:6,src:"/img/icons/checkmark-for-checkbox.svg",alt:"Галочка"})}):(0,l.jsx)("div",{onClick:()=>{b(!0),a(!0)},className:"cursor-pointer bg-[#F7F9FB] border border-black/20 min-w-[18px] min-h-[18px] rounded"}),r&&c&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black-100"+(o?" text-red-600":""),children:r}),(0,l.jsx)("p",{className:"text-black/40",dangerouslySetInnerHTML:{__html:c}})]})]})}},70970:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var l=a(57437),s=a(16691),r=a.n(s),n=a(57042),c=a(57945),i=a.n(c);function o(e){let{disabled:t,value:a,setValue:s,type:c,label:o,placeholder:d,getOnlyNumber:u,invalidValue:b="",dataFocus:x,mask:p}=e;switch(c){case"one-number":return(0,l.jsx)("input",{tabIndex:x.split("-")[1],"data-focus":x,className:"focus:border-black/20 text-center w-[58px] h-[58px] flex-middle rounded-lg font-semibold text-2xl leading-[150%] border border-solid border-black/10 bg-white",type:"number",defaultValue:a,onChange:e=>{let t=document.querySelectorAll('[data-focus^="focus-"]');if(""===e.target.value?s(e.target.value):s(e.target.value.at(-1)),t.length>0){let a=Number(e.target.getAttribute("data-focus").split("-")[1])-1;t[a===t.length-1?0:a+1].focus()}}});case"big-input:disabled":return(0,l.jsxs)("div",{className:"relative w-[620px] lg:w-full",children:[o&&(0,l.jsx)("p",{className:"text-black/40 absolute top-4 left-5",children:o}),(0,l.jsx)("input",{className:"bg-white h-[74px] rounded-lg px-5 pt-[38px] pb-4 border border-solid border-black/10 text-sm text-black/20 placeholder:text-black/20 w-full focus:border-black/20",placeholder:d,disabled:!0,defaultValue:a}),(0,l.jsx)(r(),{className:"absolute bottom-4 right-5",width:16,height:16,src:"/img/icons/checkmark.svg",alt:"Подтверждено"})]});case"big-input":return(0,l.jsxs)("div",{className:"relative w-[620px] lg:w-full",children:[o&&(0,l.jsx)("p",{className:"text-black/40 absolute top-4 left-5",children:o}),(0,l.jsx)("input",{className:"bg-white h-[74px] rounded-lg px-5 pt-[38px] pb-4 border border-solid border-black/10 text-sm text-black-100 placeholder:text-black/20 w-full focus:border-black/20",placeholder:d,onChange:e=>s(e.target.value),defaultValue:a})]});case"mask-input":return(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[o&&(0,l.jsx)("p",{className:"text-sm font-semibold text-black-100",children:o}),(0,l.jsx)(i(),{mask:p,maskChar:" ",value:a,onChange:e=>s(e.target.value),className:(0,n.Z)("text-sm text-black-100 placeholder:text-black/20 w-full rounded-lg px-4 py-2.5 border border-solid border-black/10 focus:border-black/20",{"text-black/20":t}),disabled:!!t,children:e=>(0,l.jsx)("input",{type:"text",placeholder:d,...e})})]});default:return console.log("invalidValue",b),(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[o&&(0,l.jsx)("p",{className:"text-sm font-semibold text-black-100",children:o}),(0,l.jsx)("input",{type:u?"number":"text",className:(0,n.Z)("text-sm text-black-100 placeholder:text-black/20 w-full rounded-lg px-4 py-2.5 border border-solid border-black/10 focus:border-black/20",{"text-black/20":t}),placeholder:d,value:a,disabled:!!t,onChange:e=>s(e.target.value),style:{borderColor:b?"red":"inherit"}}),!!b&&(0,l.jsx)("span",{className:"text-sm",style:{color:"red"},children:b})]})}}},50117:function(e,t,a){"use strict";a.d(t,{b:function(){return r}});var l=a(29222),s=a(30604);let r=l.Z.create({baseURL:"https://eco.null-it.com"});r.interceptors.request.use(e=>(e.headers.Authorization="Bearer "+(0,s.v)("bearer_token"),e))},30604:function(e,t,a){"use strict";function l(e){if("undefined"!=typeof document){let t=document.cookie.match(RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}}a.d(t,{v:function(){return l}})}},function(e){e.O(0,[222,191,396,971,596,744],function(){return e(e.s=3421)}),_N_E=e.O()}]);